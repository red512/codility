def solution(B):
    max_count = 0
    n = len(B)

    for i in reversed(range(n)):
        for j in reversed(range(n)):
            if B[i][j] == "O":
                count = 0
                # top left
                if i > 1 and j > 1 and B[i-1][j-1] == "X" and B[i-2][j-2] == ".":
                    count += 1
                    B[i-2][j-2] = "O"
                # top right
                if i > 1 and j < n-2 and B[i-1][j+1] == "X" and B[i-2][j+2] == ".":
                    count += 1
                    B[i-2][j+2] = "O"
                    
                if count != 0:
                    max_count +=1
    return max_count

def main():
    B1 = [
        [".",".","X",".",".","."],
        [".",".",".",".",".","."],
        [".",".",".",".","X","."],
        [".","X",".",".",".","."],
        [".",".","X",".","X","."],
        [".",".",".","O",".","."]
    ]
    
    B2 = [
        ["X",".",".",".","."],
        [".","X",".",".","."],
        [".",".","O",".","."],
        [".",".",".","X","."],
        [".",".",".",".","."]
    ]
    
    B3 = [
        ["X",".",".",".","."],
        [".","X",".",".","."],
        [".",".",".",".","."],
        [".","X",".","X","."],
        [".",".","O",".","."]
    ]
    
    B4 = [
        [".",".","X",".",".",".",".","."],
        [".",".",".",".",".",".",".","."],
        [".",".",".","X","X",".",".","."],
        [".","X",".",".",".",".",".","."],
        [".",".","X",".","X",".",".","."],
        [".",".",".",".",".",".",".","."],
        [".",".","X",".","X",".",".","."],
        [".",".",".","O",".",".",".","."]
    ]
    
    s1 = solution(B1)
    print(s1)

    s2 = solution(B2)
    print(s2)
    
    s3 = solution(B3)
    print(s3)
    
    s4 = solution(B4)
    print(s4)

if __name__ == "__main__":
    main()